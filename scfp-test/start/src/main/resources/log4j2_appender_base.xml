<?xml version="1.0" encoding="UTF-8"?>
<Appenders>
    <!-- 输出到控制台 -->
    <Console name="Stdout" target="SYSTEM_OUT">
        <PatternLayout disableAnsi="false"  pattern="${COLORED_PATTERN}"/>
    </Console>

    <!-- 输出debug日志到文件 -->
    <RollingFile name="DebugFile" fileName="${LOG_PATH}/debug.log"
                 filePattern="${LOG_PATH}/%d{yyyy-MM}/debug.%d{yyyy-MM-dd}.%i.log.gz">
        <!-- 过滤设置level以上的日志-->
        <ThresholdFilter level="debug" onMatch="ACCEPT" onMismatch="DENY"/>
        <PatternLayout pattern="${LOG_PATTERN}"/>
        <Policies>
            <SizeBasedTriggeringPolicy size="50MB"/>
        </Policies>
        <DefaultRolloverStrategy max="30"/>
    </RollingFile>

    <!-- 输出error日志到文件 -->
    <RollingFile name="ErrorFile" fileName="${LOG_PATH}/error.log"
                 filePattern="${LOG_PATH}/%d{yyyy-MM}/error.%d{yyyy-MM-dd}.%i.log.gz">
        <ThresholdFilter level="error" onMatch="ACCEPT" onMismatch="DENY"/>
        <PatternLayout pattern="${LOG_PATTERN}"/>
        <Policies>
            <SizeBasedTriggeringPolicy size="50MB"/>
        </Policies>
        <DefaultRolloverStrategy max="30"/>
    </RollingFile>

</Appenders>